import requests

def test_service_account_token(token, api_endpoint):
    """
    Test the service account token by making a request to a Talend Cloud API endpoint.

    Parameters:
    token (str): The service account token.
    api_endpoint (str): The API endpoint to test the token against.

    Returns:
    bool: True if the request is successful, False otherwise.
    """
    headers = {
        "Authorization": f"Bearer {token}"
    }

    response = requests.get(api_endpoint, headers=headers)

    if response.status_code == 200:
        print("Token is valid. Response from API:", response.json())
        return True
    else:
        print(f"Failed to validate token. Status Code: {response.status_code}, Response: {response.text}")
        return False

# Example usage
token = "eyJraWQiOiJpYW0tb2lkYy1jbG91ZCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJETUwyazNYLVNLMi1hWWh3X2pvdkRhdDBNaFExSWJXQWxnTVJtWkpaQ1pvQGNsaWVudHMiLCJhdWQiOiJodHRwczovL2FwaS51cy5jbG91ZC50YWxlbmQuY29tIiwiYXpwIjoiRE1MMmszWC1TSzItYVlod19qb3ZEYXQwTWhRMUliV0FsZ01SbVpKWkNabyIsImlzcyI6Imh0dHBzOi8vaWFtLnVzLmNsb3VkLnRhbGVuZC5jb20vb2lkYyIsImh0dHBzOi8vdGFsZW5kLmNsb3VkL3NlcnZpY2VBY2NvdW50TmFtZSI6IkRNYWFTT3BlcmF0b3IiLCJleHAiOjE3MDE4NjkxNDAsImlhdCI6MTcwMTg2NzMzOSwiZ3R5IjoiY2xpZW50X2NyZWRlbnRpYWxzIiwiaHR0cHM6Ly90YWxlbmQuY2xvdWQvcGVybWlzc2lvbnMiOlsiREFUQVNFVF9DRVJUSUZZIiwiVE1DX0VOR0lORV9VU0UiLCJUTUNfQ0xPVURfQ09ORklHVVJBVElPTl9NQU5BR0VNRU5UIiwiVE1DX1JPTEVfTUFOQUdFTUVOVCIsIlREUV9TRU1BTlRJQ19UWVBFX1BVQkxJU0giLCJSVUxFX0NSRUFURSIsIkNSQVdMSU5HX1JFQUQiLCJUTUNfR1JPVVBfTUFOQUdFTUVOVCIsIlRNQ19DTFVTVEVSX01BTkFHRU1FTlQiLCJEQVRBU0VUX0FQSV9WSUVXIiwiREFUQVNFVF9SRUFEIiwiREFUQVNFVF9VUERBVEUiLCJSVUxFX1ZJRVciLCJDT05ORUNUSU9OX1VQREFURSIsIkNSQVdMSU5HX0RFTEVURSIsIlRNQ19QSVBFTElORV9NQU5BR0VNRU5UIiwiVERRX1NFTUFOVElDX1RZUEVfVklFVyIsIkNPTk5FQ1RJT05fQ1JFQVRFIiwiQ09OTkVDVElPTl9SRUFEIiwiQ09OTkVDVElPTl9TSEFSRSIsIkRBVEFTRVRfQVBJX01BTkFHRSIsIkNVU1RPTV9BVFRSSUJVVEVfREVMRVRFIiwiVE1DX0VYUE9SVF9MT0dTX01BTkFHRU1FTlQiLCJEQVRBU0VUX1NDSEVNQV9VUERBVEUiLCJUTUNfVVNFUl9NQU5BR0VNRU5UIiwiUlVMRV9ERUxFVEUiLCJEQVRBU0VUX0FEVkFOQ0VEX1NFQVJDSCIsIkRBVEFTRVRfVEFHU19NQU5BR0UiLCJDUkFXTElOR19DUkVBVEUiLCJUTUNfU0VSVklDRV9BQ0NPVU5UX01BTkFHRU1FTlQiLCJDVVNUT01fQVRUUklCVVRFX0NSRUFURSIsIlRNQ19TU09fTUFOQUdFTUVOVCIsIkRBVEFTRVRfU0hBUkUiLCJSVUxFX0VESVQiLCJUTUNfQ09ORklHVVJBVElPTl9ORVhVU19VU0VSTElCUyIsIlRNQ19SVU5fUFJPRklMRV9NQU5BR0VNRU5UIiwiREFUQVNFVF9DUkVBVEUiLCJURFFfU0VNQU5USUNfVFlQRV9ERUxFVEUiLCJEQVRBU0VUX0FUVFJJQlVURVNfTUFOQUdFIiwiVERRX1NFTUFOVElDX1RZUEVfTElTVCIsIlRNQ19FTlZJUk9OTUVOVF9NQU5BR0VNRU5UIiwiVE1DX09QRVJBVE9SIiwiVERRX1NFTUFOVElDX1RZUEVfQ1JFQVRFIiwiVE1DX1BPTElDWV9QQVNTV09SRCIsIlRNQ19QUk9NT1RJT05fRVhFQ1VUSU9OIiwiREFUQVNFVF9TQU1QTEVfVVBEQVRFIiwiREFUQVNFVF9ERUxFVEUiLCJUTUNfU1VCU0NSSVBUSU9OX01BTkFHRU1FTlQiLCJDUkFXTElOR19VUERBVEUiLCJURFFfU0VNQU5USUNfVFlQRV9FRElUIiwiQ1VTVE9NX0FUVFJJQlVURV9SRUFEIiwiREFUQVNFVF9ET1dOTE9BRCIsIlRNQ19TVEFUSUNfSVBfTUFOQUdFTUVOVCIsIkNPTk5FQ1RJT05fREVMRVRFIiwiQ1VTVE9NX0FUVFJJQlVURV9VUERBVEUiLCJBVURJVF9MT0dTX1ZJRVciLCJUTUNfUFJPSkVDVF9NQU5BR0VNRU5UIl0sImh0dHBzOi8vdGFsZW5kLmNsb3VkL3RlbmFudE5hbWUiOiJvY2NsdXNpb24uc29sdXRpb25zIiwiaHR0cHM6Ly90YWxlbmQuY2xvdWQvdGVuYW50SWQiOiJhN2FiMjUzNi1jOWQ2LTRiNGItYTljMy1jZmNhNTFmNWVkMjUifQ.H_1W9fGxBAypcpCzGSZABS6lDMPsfNglByjLsZHwAqpM_yTTMAfrj0UqX116Qa02WAGYqUA0VHJyaFfVW9lQWm3F4iugw2Zx9x2Lu7x1XbWbX17xtWiP7Y5h89zLh0Ia-7k-Us83Am-CWRkkqqghMgU_vl-LD6K4txjtV3osHCx7zRmvvy-T5REKHIFET_g6EbwVEkEhG0Oo1AJk4Slk5Bk9WgE7mpL6ATYErNWaoSQmw9m7URSXnxipMBzqyU3tZBBFp3S-Z7HrXMk18G79g3RObJeu_WGeqh0qMtwcLnIOHVVOX0tivkbJTwxDBAE9LNtFWHSm3pjIVHmtbscCJw"  # Replace with your generated token
api_endpoint = "https://api.us.cloud.talend.com/your_api_endpoint"  # Replace with your API endpoint

# Test the token
is_valid = test_service_account_token(token, api_endpoint)
print("Is the token valid?", is_valid)
